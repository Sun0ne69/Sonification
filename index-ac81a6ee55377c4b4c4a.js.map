{"version":3,"sources":["webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./src/engine/encoders/mp3.worker.js","webpack:///./src/engine/encoders/wav.worker.js","webpack:///./src/engine/encoders/wav.js","webpack:///./src/engine/encoders/mp3.js","webpack:///./src/engine/ExportEngine.js","webpack:///./src/components/ExportAudioDialog.js","webpack:///./src/images/two-tone-logo-32.png"],"names":["c","a","b","d","XMLHttpRequest","open","responseType","onload","g","response","onerror","console","error","send","status","e","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","global","navigator","test","userAgent","saveAs","HTMLAnchorElement","prototype","h","i","URL","webkitURL","j","createElement","name","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","type","Blob","title","body","innerText","HTMLElement","safari","FileReader","k","onloadend","result","replace","readAsDataURL","l","m","module","exports","Worker","nextRequestId","worker","requestPromises","WeakMap","pendingRequests","Map","cleanUp","size","terminate","receiveMessage","event","data","requestId","blob","resolve","get","delete","request","reject","progress","onProgress","encoders","wav","buffer","promise","onmessage","Promise","set","arrays","numberOfChannels","push","getChannelData","buffers","map","postMessage","sampleRate","mp3","meta","bitRate","abortSignal","addEventListener","has","command","fetchIcon","fetch","logoIcon","then","arrayBuffer","createOfflineContext","options","OfflineAudioContext","requirements","AudioContext","length","ExportEngine","state","format","toLowerCase","engine","nextTaskId","currentTaskId","abortController","log","action","logExportEvent","exportFormat","duration","Math","round","this","start","taskId","context","savedBuffer","comments","comment","encode","encodedBlob","Error","update","on","max","currentTime","emit","play","startRendering","destroy","AbortController","signal","tracks","track","intensityField","field","fields","APP_TITLE","COMMIT_HASH","join","TIT2","dataSource","metadata","TENC","ISFT","COMM","description","text","APIC","useUnicodeEncoding","p","AudioDataEngine","rowDuration","speechTitleEnabled","speechTitle","normalizeSpaces","call","abort","allOff","eventEmitter","Object","defineProperties","processing","canSave","createElementNS","bitRates","kbFormat","Intl","NumberFormat","language","minimumFractionDigits","maximumFractionDigits","mbFormat","Def","exporting","downloadURL","Symbol","setState","file","props","blockPlayback","playBlockClaim","setConfig","finish","onClose","stack","releasePlayback","setStateFromEvent","config","bytes","classes","fileSize","content","id","variant","value","color","className","formControl","htmlFor","onChange","handleChangeValue","input","key","close","keepMounted","disableBackdropClick","paper","dialog","aria-labelledby","aria-describedby","onClick","cancel","exportAudio","autoFocus","disabled","React","Component","ExportAudioDialog","withStyles","theme","minWidth","maxWidth","minHeight","maxHeight","margin","spacing","unit","marginLeft","connect","actions"],"mappings":"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","file":"index-ac81a6ee55377c4b4c4a.js","sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"881e18de7b88e00dcff1.worker.js\");\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"673b6f265626e5264686.worker.js\");\n};","import Worker from '!worker-loader!./wav.worker.js';\n\nlet nextRequestId = 0;\nlet worker = null;\nconst requestPromises = new WeakMap();\nconst pendingRequests = new Map();\n\nfunction cleanUp() {\n\tif (!pendingRequests.size) {\n\t\tworker.terminate();\n\t\tworker = null;\n\t}\n}\n\nfunction receiveMessage(event) {\n\tconst { requestId, blob } = event.data;\n\tconst resolve = pendingRequests.get(requestId);\n\tpendingRequests.delete(requestId);\n\tresolve(blob);\n\tsetTimeout(cleanUp, 5000);\n}\n\nexport default function encodeWav(buffer) {\n\tlet promise = requestPromises.get(buffer);\n\n\tif (!promise) {\n\t\tconst requestId = nextRequestId++;\n\t\tif (!worker) {\n\t\t\tworker = new Worker();\n\t\t\tworker.onmessage = receiveMessage;\n\t\t}\n\n\t\tpromise = new Promise((resolve/*, reject*/) => {\n\t\t\tpendingRequests.set(requestId, resolve);\n\n\t\t\tconst arrays = [];\n\t\t\tfor (let c = 0; c < buffer.numberOfChannels; c++) {\n\t\t\t\tarrays.push(buffer.getChannelData(c));\n\t\t\t}\n\t\t\tconst buffers = arrays.map(a => a.buffer);\n\n\t\t\tworker.postMessage({\n\t\t\t\tarrays,\n\t\t\t\tsampleRate: buffer.sampleRate,\n\t\t\t\trequestId\n\t\t\t}, buffers);\n\t\t});\n\t\trequestPromises.set(buffer, promise);\n\t}\n\treturn promise;\n}","import Worker from '!worker-loader!./mp3.worker.js';\n\nlet nextRequestId = 0;\nlet worker = null;\nconst pendingRequests = new Map();\n\nfunction cleanUp() {\n\tif (!pendingRequests.size) {\n\t\tworker.terminate();\n\t\tworker = null;\n\t}\n}\n\nfunction receiveMessage(event) {\n\tconst {\n\t\trequestId,\n\t\terror,\n\t\tblob\n\t} = event.data;\n\n\tconst request = pendingRequests.get(requestId);\n\n\tif (error) {\n\t\trequest.reject(error);\n\t\tpendingRequests.delete(requestId);\n\t\tsetTimeout(cleanUp, 5000);\n\t\treturn;\n\t}\n\n\tconst progress = blob ? 1 : event.data.progress;\n\tif (progress && request.onProgress) {\n\t\trequest.onProgress(progress);\n\t}\n\n\tif (blob) {\n\t\trequest.resolve(blob);\n\t\tpendingRequests.delete(requestId);\n\t\tsetTimeout(cleanUp, 5000);\n\t}\n}\n\nexport default function encodeMp3(buffer, meta, bitRate = 128, onProgress, abortSignal) {\n\tconst requestId = nextRequestId++;\n\tif (!worker) {\n\t\tworker = new Worker();\n\t\tworker.onmessage = receiveMessage;\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tpendingRequests.set(requestId, {\n\t\t\tresolve,\n\t\t\treject,\n\t\t\tonProgress\n\t\t});\n\n\t\tconst arrays = [];\n\t\tfor (let c = 0; c < buffer.numberOfChannels; c++) {\n\t\t\tarrays.push(buffer.getChannelData(c));\n\t\t}\n\t\tconst buffers = arrays.map(a => a.buffer);\n\n\t\tworker.postMessage({\n\t\t\tarrays,\n\t\t\tsampleRate: buffer.sampleRate,\n\t\t\tbitRate,\n\t\t\tmeta,\n\t\t\trequestId\n\t\t}, buffers);\n\n\t\tif (abortSignal) {\n\t\t\tabortSignal.addEventListener('abort', () => {\n\t\t\t\tif (pendingRequests.has(requestId) && worker) {\n\t\t\t\t\tworker.postMessage({\n\t\t\t\t\t\trequestId,\n\t\t\t\t\t\tcommand: 'abort'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}","/* global APP_TITLE, SPEECH_API_KEY, COMMIT_HASH */\nimport AudioDataEngine from './AudioDataEngine';\nimport encodeWav from './encoders/wav';\nimport encodeMp3 from './encoders/mp3';\nimport eventEmitter from 'event-emitter';\nimport allOff from 'event-emitter/all-off';\nimport { requirements } from '../util/loadRequirements';\nimport normalizeSpaces from '../util/normalizeSpaces';\nimport getVoices, { getSpeechVoice } from '../engine/speech-voices';\nimport { logExportEvent } from '../util/analytics';\n\nimport logoIcon from '../images/two-tone-logo-32.png';\n\nconst RENDER_PROGRESS_RATIO = 0.4;\n\nconst encoders = {\n\twav: encodeWav,\n\tmp3: encodeMp3\n};\n\nconst fetchIcon = () =>\n\tfetch(logoIcon)\n\t\t.then(response => response.arrayBuffer());\n\n/*\nMS Edge doesn't support options object in constructor\n*/\nfunction createOfflineContext(options) {\n\tconst { OfflineAudioContext } = requirements.AudioContext;\n\ttry {\n\t\tconst context = new OfflineAudioContext(options);\n\t\treturn context;\n\t} catch (e) {}\n\n\tconst {\n\t\tnumberOfChannels,\n\t\tlength,\n\t\tsampleRate\n\t} = options;\n\treturn new OfflineAudioContext(numberOfChannels, length, sampleRate);\n}\n\n/*\nMay want to add opus\n- https://github.com/psirenny/opus-encode\n- https://github.com/Rillke/opusenc.js\n*/\nexport default function ExportEngine(state, options = {}) {\n\tconst sampleRate = options.sampleRate || 44100;\n\tconst format = (options.format || 'mp3').toLowerCase();\n\tconst bitRate = options.bitRate || 128; // in kb, only for mp3\n\n\t/*\n\ttodo:\n\t- abort if no data, tracks or duration\n\t*/\n\n\tlet engine = null;\n\tlet nextTaskId = 1;\n\tlet currentTaskId = 0;\n\tlet progress = 0;\n\tlet abortController = null;\n\n\tfunction log(action) {\n\t\tlogExportEvent({\n\t\t\tsampleRate,\n\t\t\texportFormat: format,\n\t\t\tbitRate,\n\t\t\tduration: Math.round(state.duration * 1000)\n\t\t}, action);\n\t}\n\n\tthis.start = async () => {\n\t\tif (engine) {\n\t\t\tthrow new Error('Already rendering audio for export');\n\t\t}\n\n\t\tconst taskId = nextTaskId++;\n\t\tcurrentTaskId = taskId;\n\t\tprogress = 0;\n\n\t\tconst duration = state.duration;\n\n\t\tconst context = createOfflineContext({\n\t\t\tnumberOfChannels: 2,\n\t\t\tlength: sampleRate * duration,\n\t\t\tsampleRate\n\t\t});\n\t\t// const context = new OfflineAudioContext(2, sampleRate * duration, sampleRate);\n\t\tengine = new AudioDataEngine(context);\n\t\tengine.data = state.data;\n\t\tengine.tracks = state.tracks || [];\n\t\tengine.rowDuration = state.rowDuration;\n\t\tengine.speechTitleEnabled = state.speechTitleEnabled;\n\t\tengine.speechTitle = normalizeSpaces(state.speechTitleEnabled && state.speechTitle);\n\t\tif (SPEECH_API_KEY && engine.speechTitle) {\n\t\t\tawait getVoices();\n\t\t\tengine.speechVoiceId = getSpeechVoice(state);\n\t\t}\n\t\tengine.update();\n\n\t\tengine.on('timeupdate', () => {\n\t\t\tprogress = Math.max(progress, RENDER_PROGRESS_RATIO * engine.currentTime / duration);\n\t\t\tthis.emit('progress');\n\t\t});\n\n\t\tlog('save');\n\n\t\tawait engine.play();\n\t\t// console.log('starting rendering', context.currentTime, context);\n\t\tconst savedBuffer = await context.startRendering();\n\t\t// console.log('done rendering export', {savedBuffer});\n\n\t\tif (!engine) {\n\t\t\t// aborted\n\t\t\treturn null;\n\t\t}\n\n\t\tengine.destroy();\n\t\tengine = null;\n\n\t\tif (currentTaskId !== taskId) {\n\t\t\t// aborted and started new task\n\t\t\treturn null;\n\t\t}\n\n\t\tabortController = window.AbortController && new AbortController();\n\t\tconst abortSignal = abortController && abortController.signal;\n\n\t\tconst comments = (state.tracks || []).map(track => {\n\t\t\tconst {intensityField} = track;\n\t\t\tconst field = state.data.fields[intensityField];\n\t\t\treturn field && '- ' + field.name || '';\n\t\t});\n\t\tcomments.push('', `Generated by ${APP_TITLE} (build ${COMMIT_HASH})`);\n\t\tconst comment = comments.join('\\n');\n\n\t\tconst meta = {\n\t\t\tTIT2: state.dataSource.metadata.title,\n\t\t\tTENC: APP_TITLE,\n\t\t\tISFT: APP_TITLE,\n\t\t\tCOMM: {\n\t\t\t\tdescription: 'Comment',\n\t\t\t\ttext: comment\n\t\t\t},\n\t\t\tAPIC: {\n\t\t\t\ttype: 3,\n\t\t\t\tdata: await fetchIcon(),\n\t\t\t\tdescription: APP_TITLE,\n\t\t\t\tuseUnicodeEncoding: false\n\t\t\t}\n\t\t};\n\n\t\tconst encode = encoders[format];\n\t\tconst encodedBlob = await encode(savedBuffer, meta, bitRate, p => {\n\t\t\tprogress = Math.max(progress, RENDER_PROGRESS_RATIO + (1 - RENDER_PROGRESS_RATIO) * p);\n\t\t\tthis.emit('progress');\n\t\t}, abortSignal);\n\n\t\tif (currentTaskId !== taskId) {\n\t\t\t// aborted and started new task\n\t\t\treturn null;\n\t\t}\n\t\tabortController = null;\n\n\t\tlog('complete');\n\n\t\tcurrentTaskId = 0;\n\t\tprogress = 1;\n\t\tthis.emit('finish', encodedBlob);\n\t\treturn encodedBlob;\n\t};\n\n\tthis.abort = () => {\n\t\tif (engine) {\n\t\t\tengine.destroy();\n\t\t}\n\t\tengine = null;\n\n\t\tif (abortController) {\n\t\t\tabortController.abort();\n\t\t}\n\t\tabortController = null;\n\n\t\tlog('abort');\n\n\t\tconst taskId = currentTaskId;\n\t\tcurrentTaskId = 0;\n\t\tif (taskId) {\n\t\t\tthis.emit('abort');\n\t\t}\n\t};\n\n\tthis.destroy = () => {\n\t\tthis.abort();\n\t\tallOff(this);\n\t};\n\n\teventEmitter(this);\n\n\tObject.defineProperties(this, {\n\t\tprocessing: {\n\t\t\tget: () => !!engine\n\t\t},\n\t\tprogress: {\n\t\t\tget: () => progress\n\t\t}\n\t});\n}\n","import React from 'react'; // import classNames from 'classnames';\nimport { connect } from 'unistore/react';\nimport { actions } from '../store';\nimport ExportEngine from '../engine/ExportEngine';\nimport setStateFromEvent from '../util/setStateFromEvent';\nimport { saveAs } from 'file-saver';\n\n/*\nMaterial UI components\n*/\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst styles = theme => ({\n\tdialog: {\n\t\tminWidth: '50%',\n\t\tmaxWidth: '80%',\n\t\tminHeight: '40%',\n\t\tmaxHeight: '80%'\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing.unit,\n\t\t'&:first-child': {\n\t\t\tmarginLeft: 0\n\t\t}\n\t}\n});\n\nconst canSave = !/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\n\t'download' in document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n\nconst bitRates = [\n\t64,\n\t128,\n\t192,\n\t320\n];\nconst SAMPLE_RATE = 44100;\n\n// mac seems to use 1000, not 1024\nconst KB_DIVIDER = 1000;\n\nconst kbFormat = new Intl.NumberFormat(navigator.language, {\n\tminimumFractionDigits: 0,\n\tmaximumFractionDigits: 0\n});\nconst mbFormat = new Intl.NumberFormat(navigator.language, {\n\tminimumFractionDigits: 0,\n\tmaximumFractionDigits: 1\n});\n\nfunction formatFileSize(bytes) {\n\tif (bytes < 1000) {\n\t\treturn kbFormat.format(bytes) + 'B';\n\t}\n\n\tif (bytes < 1e6) {\n\t\treturn kbFormat.format(bytes / KB_DIVIDER) + 'KB';\n\t}\n\n\treturn mbFormat.format(bytes / (KB_DIVIDER * KB_DIVIDER)) + 'MB';\n}\n\nconst Def = class ExportAudioDialog extends React.Component {\n\tstatic propTypes = {\n\t\tclasses: PropTypes.object,\n\t\tconfig: PropTypes.object,\n\t\topen: PropTypes.bool,\n\t\tdataSource: PropTypes.object,\n\t\tonClose: PropTypes.func.isRequired,\n\t\tduration: PropTypes.number.isRequired,\n\t\tblockPlayback: PropTypes.func.isRequired,\n\t\treleasePlayback: PropTypes.func.isRequired,\n\t\tsetConfig: PropTypes.func.isRequired\n\t}\n\n\tstate = {\n\t\texporting: false,\n\t\tformat: 'mp3',\n\t\tbitRate: 128,\n\t\tprogress: 0,\n\t\terror: '',\n\t\tdownloadURL: ''\n\t}\n\n\tplayBlockClaim = Symbol()\n\n\tengine = null\n\n\tonProgress = () => {\n\t\tconst progress = this.engine && this.engine.progress || 0;\n\t\tthis.setState({ progress });\n\t}\n\n\texportAudio = async () => {\n\t\tthis.props.blockPlayback(this.playBlockClaim);\n\n\t\tconst { format, bitRate } = this.state;\n\t\tconst engine = new ExportEngine(this.props, {\n\t\t\tformat,\n\t\t\tbitRate,\n\t\t\tsampleRate: SAMPLE_RATE\n\t\t});\n\t\tthis.engine = engine;\n\n\t\tthis.props.setConfig({\n\t\t\tformat,\n\t\t\tbitRate\n\t\t});\n\n\t\tengine.on('progress', this.onProgress);\n\t\tthis.setState({\n\t\t\terror: '',\n\t\t\texporting: true,\n\t\t\tprogress: 0,\n\t\t\tdownloadURL: ''\n\t\t});\n\n\t\tlet error = '';\n\t\tlet file = null;\n\t\ttry {\n\t\t\tfile = await engine.start();\n\t\t} catch (e) {\n\t\t\tconsole.error('Error exporting audio', e, e.stack);\n\t\t\terror = 'Failed to export audio';\n\t\t}\n\n\t\tengine.destroy();\n\t\tthis.finish(error);\n\n\t\tif (file) {\n\t\t\tif (!error && canSave) {\n\t\t\t\tsaveAs(file, (this.props.dataSource.metadata.title || 'data') + '.' + format);\n\t\t\t\tif (this.props.onClose) {\n\t\t\t\t\tthis.props.onClose();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst downloadURL = URL.createObjectURL(file);\n\t\t\t\tthis.setState({\n\t\t\t\t\tdownloadURL\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfinish = error => {\n\t\tif (this.engine) {\n\t\t\tthis.engine.destroy();\n\t\t}\n\n\t\tthis.engine = null;\n\t\tthis.props.releasePlayback(this.playBlockClaim);\n\t\tthis.setState({\n\t\t\terror: typeof error === 'string' && error ? error : '',\n\t\t\tprogress: 0,\n\t\t\texporting: false\n\t\t});\n\t}\n\n\tcancel = () => {\n\t\tif (this.state.exporting) {\n\t\t\tthis.finish();\n\t\t} else if (this.props.onClose) {\n\t\t\tthis.props.onClose();\n\t\t}\n\t}\n\n\thandleChangeValue = setStateFromEvent(this)\n\n\tcomponentDidMount() {\n\t\tconst { config } = this.props;\n\t\tconst { bitRate, format } = config;\n\t\tif (bitRate && format) {\n\t\t\tthis.setState({\n\t\t\t\tbitRate,\n\t\t\t\tformat\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.finish();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tduration,\n\t\t\topen\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\texporting,\n\t\t\terror,\n\t\t\tprogress,\n\t\t\tformat,\n\t\t\tbitRate,\n\t\t\tdownloadURL\n\t\t} = this.state;\n\n\t\tconst fileSize = format === 'wav' ?\n\t\t\t4 * SAMPLE_RATE * duration : // 16 bits per sample, 2 channels\n\t\t\tduration * bitRate * 1024 / 8;\n\n\t\tconst content = exporting ?\n\t\t\t<div>\n\t\t\t\t<DialogContentText id=\"export-audio-dialog-description\">\n\t\t\t\t\tExporting project to audio file\n\t\t\t\t</DialogContentText>\n\t\t\t\t<LinearProgress\n\t\t\t\t\tvariant=\"determinate\"\n\t\t\t\t\tvalue={progress * 100}\n\t\t\t\t/>\n\t\t\t</div> :\n\t\t\t<div>\n\t\t\t\t<DialogContentText id=\"export-audio-dialog-description\">\n\t\t\t\t\tExport project to audio file\n\t\t\t\t</DialogContentText>\n\t\t\t\t{error && <DialogContentText variant=\"subtitle1\" color=\"error\">{error}</DialogContentText>}\n\t\t\t\t<div>\n\t\t\t\t\t<FormControl className={classes.formControl}>\n\t\t\t\t\t\t<InputLabel htmlFor=\"export-format\">Format</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={format}\n\t\t\t\t\t\t\tonChange={this.handleChangeValue}\n\t\t\t\t\t\t\tname=\"format\"\n\t\t\t\t\t\t\tinput={<Input id=\"export-format\" />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value=\"mp3\">MP3</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value=\"wav\">Waveform (PCM)</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t{ format !== 'wav' && <FormControl className={classes.formControl}>\n\t\t\t\t\t\t<InputLabel htmlFor=\"export-bit-rate\">Bit Rate</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={bitRate}\n\t\t\t\t\t\t\tonChange={this.handleChangeValue}\n\t\t\t\t\t\t\tname=\"bitRate\"\n\t\t\t\t\t\t\tinput={<Input id=\"export-bit-rate\" />}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{bitRates.map(bitRate => <MenuItem value={bitRate} key={bitRate}>{bitRate} kbps</MenuItem>)}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl> }\n\t\t\t\t</div>\n\t\t\t\t<DialogContentText id=\"export-audio-file-size\">\n\t\t\t\t\tEstimated file size: {formatFileSize(fileSize)}\n\t\t\t\t</DialogContentText>\n\t\t\t\t{downloadURL ?\n\t\t\t\t\t<DialogContentText id=\"export-download\">\n\t\t\t\t\t\tExport Complete\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey=\"download\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\thref={downloadURL}>\n\t\t\t\t\t\t\tOpen\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogContentText> :\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t</div>;\n\n\t\treturn <Dialog\n\t\t\topen={open !== false}\n\t\t\tonClose={this.close}\n\t\t\tkeepMounted={true}\n\t\t\tdisableBackdropClick={exporting}\n\t\t\tclasses={{\n\t\t\t\tpaper: classes.dialog\n\t\t\t}}\n\t\t\taria-labelledby=\"export-audio-dialog-title\"\n\t\t\taria-describedby=\"export-audio-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"export-audio-dialog-title\">Export Audio</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t{content}\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={this.cancel} color=\"secondary\">\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={this.exportAudio} color=\"secondary\" autoFocus disabled={exporting}>\n\t\t\t\t\tExport\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>;\n\t}\n};\n\nconst ExportAudioDialog = withStyles(styles)(\n\tconnect([\n\t\t'data',\n\t\t'tracks',\n\t\t'config',\n\t\t'rowDuration',\n\t\t'duration',\n\t\t'dataSource',\n\t\t'speechTitle',\n\t\t'speechTitleEnabled',\n\t\t'speechLanguage',\n\t\t'speechGender',\n\t\t'speechVoiceId'\n\t], actions)(Def)\n);\n// const ExportAudioDialog = Def;\nexport default ExportAudioDialog;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA2klEQVRYw2P8WsPwn4ECwNX8/xMF2j+yMFAO+CjRzMQwwAB7CLCwMzCJ6RDW/f8vw/8vL4iyiJFHgngHMEnoM3CknyRs/9dXDN87xIlLK01/GRgYmQZfFIw6YNQB2LPhr28M/56dw6Kag4FJTAu/j2TMGBgYmbFlROId8O/VFYYf040xxJmVnRnYE/bgdQB7/E4GRg6B0TQw6oBRB4w6YNQBow4YdcCoAyhsEeEAfx8fZ/gxzQip5fKHgbPiJWq7h52fdg5g+PWN4d/z86gWcouNoCjAASjqngMAgMouH5LEYxUAAAAASUVORK5CYII=\""],"sourceRoot":""}